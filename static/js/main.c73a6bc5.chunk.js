(this["webpackJsonpasr-bangla"]=this["webpackJsonpasr-bangla"]||[]).push([[0],{105:function(e,n,t){},120:function(e,n){},122:function(e,n){},135:function(e,n,t){"use strict";t.r(n);var a,c,r,i,o,l,s,u,d,j,b=t(21),f=(t(100),t(0)),p=t.n(f),O=t(20),h=t.n(O),g=t(22),x=(t(105),t(30)),m=t.n(x),v=t(98),w=t(50),S=t(23),k=t(140),y=t(77),z=t(141),M=t(142),C=t(78),A=t.n(C),R=t(79),B=t(80),E=t(99),L=t(97),D=t(45),I=function(e){Object(E.a)(t,e);var n=Object(L.a)(t);function t(e,a){var c;return Object(R.a)(this,t),(c=n.call(this,a)).recognizer=e,c}return Object(B.a)(t,[{key:"_write",value:function(e,n,t){var a=e.getChannelData(0);this.recognizer&&a.byteLength>0&&this.recognizer.acceptWaveform(e),t()}}]),t}(D.Duplex),J=new D.Writable({write:function(e,n,t){t()},objectMode:!0,decodeStrings:!1}),U=t(6),W=function(e){var n=e.recognizer,t=e.loading,r=e.ready,i=Object(f.useState)(!0),o=Object(S.a)(i,2),l=o[0],s=o[1],u=Object(f.useCallback)(Object(w.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=20;break}if(s(!0),a){e.next=17;break}return t=null,e.prev=4,e.next=7,navigator.mediaDevices.getUserMedia({video:!1,audio:{echoCancellation:!0,noiseSuppression:!0}});case 7:t=e.sent,(a=new A.a({objectMode:!0,bufferSize:1024})).setStream(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:e.next=19;break;case 17:a.unpipe(c),a.pipe(J);case 19:c=new I(n,{objectMode:!0});case 20:case"end":return e.stop()}}),e,null,[[4,12]])}))),[n]);Object(f.useEffect)((function(){u()}),[n]),Object(f.useEffect)((function(){s(!0)}),[t]),Object(f.useEffect)((function(){var e,n,t,r;l?(null===(e=a)||void 0===e||e.unpipe(c),null===(n=a)||void 0===n||n.pipe(J)):(null===(t=a)||void 0===t||t.unpipe(J),null===(r=a)||void 0===r||r.pipe(c))}),[l]);return Object(U.jsx)(k.a,{icon:l?Object(U.jsx)(z.a,{}):Object(U.jsx)(M.a,{}),disabled:!r||t,onMouseUp:function(){s((function(e){return!e}))},type:"primary",shape:"round",size:"large",children:"Speak"})},_=t(138),F=_.a.Option,G=g.a.div(r||(r=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n"]))),K=Object(g.a)(k.a)(i||(i=Object(b.a)(["\n  box-sizing: border-box;\n  margin-left: 1.5rem;\n  font-size: 1.1em;\n  border: 1px solid darkorange;\n"]))),N=[{name:"Bangla ASR Model",path:"bangla_model.tar.gz"},{name:"Indian English Model",path:"vosk-model-small-en-in-0.4.tar.gz"}],T=function(e){var n=e.onModelChange,t=e.onModelSelect,a=e.loading,c=(e.loaded,Object(f.useState)(N[0].path)),r=Object(S.a)(c,2),i=r[0],o=r[1];return Object(U.jsxs)(G,{children:[Object(U.jsx)(_.a,{style:{height:"2rem",margin:"auto 0",width:"10rem"},defaultValue:N[0].path,onChange:function(e){n(e),o(e)},children:N.map((function(e,n){return Object(U.jsx)(F,{value:e.path,children:e.name},n)}))}),Object(U.jsx)(K,{onClick:function(){return t(i)},children:a?"L o a d i n g . . .":"Load"})]})},V=g.a.div(o||(o=Object(b.a)(["\n  width: 80%;\n  text-align: left;\n  max-width: 700px;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n"]))),q=g.a.div(l||(l=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 1rem auto;\n"]))),H=(Object(g.a)(k.a)(s||(s=Object(b.a)(["\n  box-sizing: border-box;\n  margin-left: 1.5rem;\n  font-size: 1.1em;\n  border: 1px solid darkorange;\n"]))),g.a.div(u||(u=Object(b.a)(["\n  width: 100%;\n  height: 300px;\n  margin: 1rem auto;\n  border: 1px solid #aaaaaa;\n  padding: 1rem;\n  resize: vertical;\n  overflow: auto;\n"])))),P=g.a.span(d||(d=Object(b.a)(["\n  color: ",";\n  white-space: normal;\n"])),(function(e){var n=e.confidence,t=Math.max(255*(1-n)-20,0);return"rgb(".concat(t,",").concat(t,",").concat(t,")")})),Q=(new Map,function(){var e=Object(f.useState)([]),n=Object(S.a)(e,2),t=n[0],a=n[1],c=Object(f.useState)(""),r=Object(S.a)(c,2),i=r[0],o=r[1],l=Object(f.useState)(),s=Object(S.a)(l,2),u=s[0],d=s[1],j=Object(f.useState)(),b=Object(S.a)(j,2),p=b[0],O=b[1],h=Object(f.useState)(!1),g=Object(S.a)(h,2),x=g[0],k=g[1],z=Object(f.useState)(!1),M=Object(S.a)(z,2),C=M[0],A=M[1],R=function(){var e=Object(w.a)(m.a.mark((function e(n){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),null===u||void 0===u||u.model.terminate(),e.next=4,Object(y.createModel)("/asr-bangla/models/"+n);case 4:t=e.sent,d({model:t,path:n}),(c=new t.KaldiRecognizer).on("result",(function(e){var n=e.result;a((function(e){return[].concat(Object(v.a)(e),[n])}))})),c.on("partialresult",(function(e){o(e.result.partial)})),O((function(){return k(!1),A(!0),c}));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(U.jsxs)(V,{children:[Object(U.jsx)(T,{onModelChange:function(e){return A((null===u||void 0===u?void 0:u.path)===e)},onModelSelect:function(e){(null===u||void 0===u?void 0:u.path)!==e&&R(e)},loading:x}),Object(U.jsx)(q,{children:Object(U.jsx)(W,{recognizer:p,loading:x,ready:C})}),Object(U.jsxs)(H,{children:[t.map((function(e,n){var t;return null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.map((function(e,t){return Object(U.jsxs)(P,{confidence:e.conf,title:"Confidence: ".concat((100*e.conf).toFixed(2),"%"),children:[e.word," "]},"".concat(n,"-").concat(t))}))})),Object(U.jsx)("span",{children:i},"partial")]})]})}),X=g.a.div(j||(j=Object(b.a)(["\n  text-align: center;\n  margin: auto;\n  justify-content: center;\n"])));h.a.render(Object(U.jsx)(p.a.StrictMode,{children:Object(U.jsxs)(X,{children:[Object(U.jsx)("h1",{children:"ASR BANGLA"}),Object(U.jsx)("h2",{children:"An Automatic Speech Recognition System for Bangla Language"}),Object(U.jsx)("h3",{children:"Select a language and load the model to start speech recognition."}),Object(U.jsx)("p",{children:Object(U.jsx)("br",{})}),Object(U.jsx)(Q,{}),Object(U.jsxs)("p",{children:[Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)("a",{href:"https://www.linkedin.com/in/rez1-talukder",children:"ASR Bangla @ Md Rezowan Talukder"})]})]})}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.c73a6bc5.chunk.js.map